(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(module,exports,__webpack_require__){__webpack_require__("487f"),__webpack_require__("48a2"),module.exports=__webpack_require__("5d29")},3414:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ElTreeSelect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("71bb");__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ElTreeSelect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__).a},"5d29":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("ac6a"),__webpack_require__("06db");var _storybook_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7d14"),req=__webpack_require__("f330");Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_2__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__("8ca4")(module))},"5fff":function(module,exports,__webpack_require__){(module.exports=__webpack_require__("2350")(!1)).push([module.i,".el-tree-select .select-option{display:none!important}[aria-disabled=true]>.el-tree-node__content{color:inherit!important;background:transparent!important;cursor:no-drop!important}.el-tree-select-popper{max-height:400px;overflow:auto}.el-tree-select-popper.disabled{display:none!important}.el-tree-select-popper .el-button--small{width:25px!important;min-width:25px!important}.el-tree-select-popper[x-placement^=bottom]{margin-top:5px}.mb10{margin-bottom:10px}.no-data{height:32px;line-height:32px;font-size:14px;color:#ccc;text-align:center}",""])},"64a4":function(module,__webpack_exports__,__webpack_require__){"use strict";var toConsumableArray=__webpack_require__("75fc"),on=(__webpack_require__("c5f6"),document.addEventListener?function(element,event,handler){element&&event&&handler&&element.addEventListener(event,handler,!1)}:function(element,event,handler){element&&event&&handler&&element.attachEvent("on"+event,handler)}),off=document.removeEventListener?function(element,event,handler){element&&event&&element.removeEventListener(event,handler,!1)}:function(element,event,handler){element&&event&&element.detachEvent("on"+event,handler)};__webpack_require__("6b54"),__webpack_require__("06db"),__webpack_require__("a481"),__webpack_require__("7f7f");function each(data,callback){for(var current,children,childName=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",i=0,len=data.length;i<len;i++)children=[],(current=data[i])[childName]&&current[childName].length>0&&(children=current[childName]),callback&&callback(current,children),children.length>0&&each(children,callback,childName)}var object_keys=__webpack_require__("a4bb"),keys_default=__webpack_require__.n(object_keys),create=__webpack_require__("4aa6"),create_default=__webpack_require__.n(create),esm_typeof=(__webpack_require__("55dd"),__webpack_require__("7618")),classCallCheck=__webpack_require__("d225"),createClass=__webpack_require__("b0b4"),is_array=__webpack_require__("a745"),is_array_default=__webpack_require__.n(is_array),merge=__webpack_require__("eab7"),define_property=__webpack_require__("85f2"),define_property_default=__webpack_require__.n(define_property),NODE_KEY="$treeNodeId",util_markNodeData=function markNodeData(node,data){data&&!data[NODE_KEY]&&define_property_default()(data,NODE_KEY,{value:node.id,enumerable:!1,configurable:!1,writable:!1})},util_getNodeKey=function getNodeKey(key,data){return key?data[key]:data[NODE_KEY]},util=__webpack_require__("6bd7"),getChildState=function getChildState(node){for(var all=!0,none=!0,allWithoutDisable=!0,i=0,j=node.length;i<j;i++){var n=node[i];(!0!==n.checked||n.indeterminate)&&(all=!1,n.disabled||(allWithoutDisable=!1)),(!1!==n.checked||n.indeterminate)&&(none=!1)}return{all:all,none:none,allWithoutDisable:allWithoutDisable,half:!all&&!none}},reInitChecked=function reInitChecked(node){if(0!==node.childNodes.length){var _getChildState=getChildState(node.childNodes),all=_getChildState.all,none=_getChildState.none,half=_getChildState.half;all?(node.checked=!0,node.indeterminate=!1):half?(node.checked=!1,node.indeterminate=!0):none&&(node.checked=!1,node.indeterminate=!1);var parent=node.parent;parent&&0!==parent.level&&(node.store.checkStrictly||reInitChecked(parent))}},getPropertyFromData=function getPropertyFromData(node,prop){var props=node.store.props,data=node.data||{},config=props[prop];if("function"==typeof config)return config(data,node);if("string"==typeof config)return data[config];if(void 0===config){var dataProp=data[prop];return void 0===dataProp?"":dataProp}},nodeIdSeed=0,node_Node=function(){function Node(options){for(var name in Object(classCallCheck.a)(this,Node),this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,options)options.hasOwnProperty(name)&&(this[name]=options[name]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var store=this.store;if(!store)throw new Error("[Node]store is required!");store.registerNode(this);var props=store.props;if(props&&void 0!==props.isLeaf){var isLeaf=getPropertyFromData(this,"isLeaf");"boolean"==typeof isLeaf&&(this.isLeafByUser=isLeaf)}if(!0!==store.lazy&&this.data?(this.setData(this.data),store.defaultExpandAll&&(this.expanded=!0)):this.level>0&&store.lazy&&store.defaultExpandAll&&this.expand(),is_array_default()(this.data)||util_markNodeData(this,this.data),this.data){var defaultExpandedKeys=store.defaultExpandedKeys,key=store.key;key&&defaultExpandedKeys&&-1!==defaultExpandedKeys.indexOf(this.key)&&this.expand(null,store.autoExpandParent),key&&void 0!==store.currentNodeKey&&this.key===store.currentNodeKey&&(store.currentNode=this,store.currentNode.isCurrent=!0),store.lazy&&store._initDefaultCheckedNode(this),this.updateLeafState()}}return Object(createClass.a)(Node,[{key:"setData",value:function setData(data){var children;is_array_default()(data)||util_markNodeData(this,data),this.data=data,this.childNodes=[];for(var i=0,j=(children=0===this.level&&this.data instanceof Array?this.data:getPropertyFromData(this,"children")||[]).length;i<j;i++)this.insertChild({data:children[i]})}},{key:"contains",value:function contains(target){var deep=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function walk(parent){for(var children=parent.childNodes||[],result=!1,i=0,j=children.length;i<j;i++){var child=children[i];if(child===target||deep&&walk(child)){result=!0;break}}return result}(this)}},{key:"remove",value:function remove(){var parent=this.parent;parent&&parent.removeChild(this)}},{key:"insertChild",value:function insertChild(child,index,batch){if(!child)throw new Error("insertChild error: child is required.");if(!(child instanceof Node)){if(!batch){var children=this.getChildren(!0);-1===children.indexOf(child.data)&&(void 0===index||index<0?children.push(child.data):children.splice(index,0,child.data))}Object(merge.a)(child,{parent:this,store:this.store}),child=new Node(child)}child.level=this.level+1,void 0===index||index<0?this.childNodes.push(child):this.childNodes.splice(index,0,child),this.updateLeafState()}},{key:"insertBefore",value:function insertBefore(child,ref){var index;ref&&(index=this.childNodes.indexOf(ref)),this.insertChild(child,index)}},{key:"insertAfter",value:function insertAfter(child,ref){var index;ref&&-1!==(index=this.childNodes.indexOf(ref))&&(index+=1),this.insertChild(child,index)}},{key:"removeChild",value:function removeChild(child){var children=this.getChildren()||[],dataIndex=children.indexOf(child.data);dataIndex>-1&&children.splice(dataIndex,1);var index=this.childNodes.indexOf(child);index>-1&&(this.store&&this.store.deregisterNode(child),child.parent=null,this.childNodes.splice(index,1)),this.updateLeafState()}},{key:"removeChildByData",value:function removeChildByData(data){for(var targetNode=null,i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===data){targetNode=this.childNodes[i];break}targetNode&&this.removeChild(targetNode)}},{key:"expand",value:function expand(callback,expandParent){var _this=this,done=function done(){if(expandParent)for(var parent=_this.parent;parent.level>0;)parent.expanded=!0,parent=parent.parent;_this.expanded=!0,callback&&callback()};this.shouldLoadData()?this.loadData(function(data){data instanceof Array&&(_this.checked?_this.setChecked(!0,!0):_this.store.checkStrictly||reInitChecked(_this),done())}):done()}},{key:"doCreateChildren",value:function doCreateChildren(array){var _this2=this,defaultProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};array.forEach(function(item){_this2.insertChild(Object(merge.a)({data:item},defaultProps),void 0,!0)})}},{key:"collapse",value:function collapse(){this.expanded=!1}},{key:"shouldLoadData",value:function shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}},{key:"updateLeafState",value:function updateLeafState(){if(!0!==this.store.lazy||!0===this.loaded||void 0===this.isLeafByUser){var childNodes=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!childNodes||0===childNodes.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser}},{key:"setChecked",value:function setChecked(value,deep,recursion,passValue){var _this3=this;if(this.indeterminate="half"===value,this.checked=!0===value,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var _getChildState2=getChildState(this.childNodes),all=_getChildState2.all,allWithoutDisable=_getChildState2.allWithoutDisable;this.isLeaf||all||!allWithoutDisable||(this.checked=!1,value=!1);var handleDescendants=function handleDescendants(){if(deep){for(var childNodes=_this3.childNodes,i=0,j=childNodes.length;i<j;i++){var child=childNodes[i];passValue=passValue||!1!==value;var isCheck=child.disabled?child.checked:passValue;child.setChecked(isCheck,deep,!0,passValue)}var _getChildState3=getChildState(childNodes),half=_getChildState3.half,_all=_getChildState3.all;_all||(_this3.checked=_all,_this3.indeterminate=half)}};if(this.shouldLoadData())return void this.loadData(function(){handleDescendants(),reInitChecked(_this3)},{checked:!1!==value});handleDescendants()}var parent=this.parent;parent&&0!==parent.level&&(recursion||reInitChecked(parent))}}},{key:"getChildren",value:function getChildren(){var forceInit=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var data=this.data;if(!data)return null;var props=this.store.props,children="children";return props&&(children=props.children||"children"),void 0===data[children]&&(data[children]=null),forceInit&&!data[children]&&(data[children]=[]),data[children]}},{key:"updateChildren",value:function updateChildren(){var _this4=this,newData=this.getChildren()||[],oldData=this.childNodes.map(function(node){return node.data}),newDataMap={},newNodes=[];newData.forEach(function(item,index){var key=item[NODE_KEY];!!key&&Object(util.a)(oldData,function(data){return data[NODE_KEY]===key})>=0?newDataMap[key]={index:index,data:item}:newNodes.push({index:index,data:item})}),this.store.lazy||oldData.forEach(function(item){newDataMap[item[NODE_KEY]]||_this4.removeChildByData(item)}),newNodes.forEach(function(_ref){var index=_ref.index,data=_ref.data;_this4.insertChild({data:data},index)}),this.updateLeafState()}},{key:"loadData",value:function loadData(callback){var _this5=this,defaultProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!keys_default()(defaultProps).length)callback&&callback.call(this);else{this.loading=!0;this.store.load(this,function resolve(children){_this5.loaded=!0,_this5.loading=!1,_this5.childNodes=[],_this5.doCreateChildren(children,defaultProps),_this5.updateLeafState(),callback&&callback.call(_this5,children)})}}},{key:"label",get:function get(){return getPropertyFromData(this,"label")}},{key:"key",get:function get(){var nodeKey=this.store.key;return this.data?this.data[nodeKey]:null}},{key:"disabled",get:function get(){return getPropertyFromData(this,"disabled")}},{key:"nextSibling",get:function get(){var parent=this.parent;if(parent){var index=parent.childNodes.indexOf(this);if(index>-1)return parent.childNodes[index+1]}return null}},{key:"previousSibling",get:function get(){var parent=this.parent;if(parent){var index=parent.childNodes.indexOf(this);if(index>-1)return index>0?parent.childNodes[index-1]:null}return null}}]),Node}(),tree_store_TreeStore=function(){function TreeStore(options){var _this=this;for(var option in Object(classCallCheck.a)(this,TreeStore),this.currentNode=null,this.currentNodeKey=null,options)options.hasOwnProperty(option)&&(this[option]=options[option]);(this.nodesMap={},this.root=new node_Node({data:this.data,store:this}),this.lazy&&this.load)?(0,this.load)(this.root,function(data){_this.root.doCreateChildren(data),_this._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}return Object(createClass.a)(TreeStore,[{key:"filter",value:function filter(value){var filterNodeMethod=this.filterNodeMethod,lazy=this.lazy;!function traverse(node){var childNodes=node.root?node.root.childNodes:node.childNodes;if(childNodes.forEach(function(child){child.visible=filterNodeMethod.call(child,value,child.data,child),traverse(child)}),!node.visible&&childNodes.length){var allHidden;allHidden=!childNodes.some(function(child){return child.visible}),node.root?node.root.visible=!1===allHidden:node.visible=!1===allHidden}value&&(!node.visible||node.isLeaf||lazy||node.expand())}(this)}},{key:"setData",value:function setData(newVal){newVal!==this.root.data?(this.root.setData(newVal),this._initDefaultCheckedNodes()):this.root.updateChildren()}},{key:"getNode",value:function getNode(data){if(data instanceof node_Node)return data;var key="object"!==Object(esm_typeof.a)(data)?data:util_getNodeKey(this.key,data);return this.nodesMap[key]||null}},{key:"insertBefore",value:function insertBefore(data,refData){var refNode=this.getNode(refData);refNode.parent.insertBefore({data:data},refNode)}},{key:"insertAfter",value:function insertAfter(data,refData){var refNode=this.getNode(refData);refNode.parent.insertAfter({data:data},refNode)}},{key:"remove",value:function remove(data){var node=this.getNode(data);node&&node.parent&&(node===this.currentNode&&(this.currentNode=null),node.parent.removeChild(node))}},{key:"append",value:function append(data,parentData){var parentNode=parentData?this.getNode(parentData):this.root;parentNode&&parentNode.insertChild({data:data})}},{key:"_initDefaultCheckedNodes",value:function _initDefaultCheckedNodes(){var _this2=this,defaultCheckedKeys=this.defaultCheckedKeys||[],nodesMap=this.nodesMap;defaultCheckedKeys.forEach(function(checkedKey){var node=nodesMap[checkedKey];node&&node.setChecked(!0,!_this2.checkStrictly)})}},{key:"_initDefaultCheckedNode",value:function _initDefaultCheckedNode(node){-1!==(this.defaultCheckedKeys||[]).indexOf(node.key)&&node.setChecked(!0,!this.checkStrictly)}},{key:"setDefaultCheckedKey",value:function setDefaultCheckedKey(newVal){newVal!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=newVal,this._initDefaultCheckedNodes())}},{key:"registerNode",value:function registerNode(node){this.key&&node&&node.data&&(void 0!==node.key&&(this.nodesMap[node.key]=node))}},{key:"deregisterNode",value:function deregisterNode(node){var _this3=this;this.key&&node&&node.data&&(node.childNodes.forEach(function(child){_this3.deregisterNode(child)}),delete this.nodesMap[node.key])}},{key:"getCheckedNodes",value:function getCheckedNodes(){var leafOnly=arguments.length>0&&void 0!==arguments[0]&&arguments[0],includeHalfChecked=arguments.length>1&&void 0!==arguments[1]&&arguments[1],checkedNodes=[];return function traverse(node){(node.root?node.root.childNodes:node.childNodes).forEach(function(child){(child.checked||includeHalfChecked&&child.indeterminate)&&(!leafOnly||leafOnly&&child.isLeaf)&&checkedNodes.push(child.data),traverse(child)})}(this),checkedNodes}},{key:"getCheckedKeys",value:function getCheckedKeys(){var _this4=this,leafOnly=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(leafOnly).map(function(data){return(data||{})[_this4.key]})}},{key:"getHalfCheckedNodes",value:function getHalfCheckedNodes(){var nodes=[];return function traverse(node){(node.root?node.root.childNodes:node.childNodes).forEach(function(child){child.indeterminate&&nodes.push(child.data),traverse(child)})}(this),nodes}},{key:"getHalfCheckedKeys",value:function getHalfCheckedKeys(){var _this5=this;return this.getHalfCheckedNodes().map(function(data){return(data||{})[_this5.key]})}},{key:"_getAllNodes",value:function _getAllNodes(){var allNodes=[],nodesMap=this.nodesMap;for(var nodeKey in nodesMap)nodesMap.hasOwnProperty(nodeKey)&&allNodes.push(nodesMap[nodeKey]);return allNodes}},{key:"updateChildren",value:function updateChildren(key,data){var node=this.nodesMap[key];if(node){for(var childNodes=node.childNodes,i=childNodes.length-1;i>=0;i--){var child=childNodes[i];this.remove(child.data)}for(var _i=0,j=data.length;_i<j;_i++){var _child=data[_i];this.append(_child,node.data)}}}},{key:"_setCheckedKeys",value:function _setCheckedKeys(key){var leafOnly=arguments.length>1&&void 0!==arguments[1]&&arguments[1],checkedKeys=arguments.length>2?arguments[2]:void 0,allNodes=this._getAllNodes().sort(function(a,b){return b.level-a.level}),cache=create_default()(null),keys=keys_default()(checkedKeys);allNodes.forEach(function(node){return node.setChecked(!1,!1)});for(var i=0,j=allNodes.length;i<j;i++){var node=allNodes[i],nodeKey=node.data[key].toString();if(keys.indexOf(nodeKey)>-1){for(var parent=node.parent;parent&&parent.level>0;)cache[parent.data[key]]=!0,parent=parent.parent;node.isLeaf||this.checkStrictly?node.setChecked(!0,!1):(node.setChecked(!0,!0),leafOnly&&function(){node.setChecked(!1,!1);!function traverse(node){node.childNodes.forEach(function(child){child.isLeaf||child.setChecked(!1,!1),traverse(child)})}(node)}())}else node.checked&&!cache[nodeKey]&&node.setChecked(!1,!1)}}},{key:"setCheckedNodes",value:function setCheckedNodes(array){var leafOnly=arguments.length>1&&void 0!==arguments[1]&&arguments[1],key=this.key,checkedKeys={};array.forEach(function(item){checkedKeys[(item||{})[key]]=!0}),this._setCheckedKeys(key,leafOnly,checkedKeys)}},{key:"setCheckedKeys",value:function setCheckedKeys(keys){var leafOnly=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=keys;var key=this.key,checkedKeys={};keys.forEach(function(key){checkedKeys[key]=!0}),this._setCheckedKeys(key,leafOnly,checkedKeys)}},{key:"setDefaultExpandedKeys",value:function setDefaultExpandedKeys(keys){var _this6=this;keys=keys||[],this.defaultExpandedKeys=keys,keys.forEach(function(key){var node=_this6.getNode(key);node&&node.expand(null,_this6.autoExpandParent)})}},{key:"setChecked",value:function setChecked(data,checked,deep){var node=this.getNode(data);node&&node.setChecked(!!checked,deep)}},{key:"getCurrentNode",value:function getCurrentNode(){return this.currentNode}},{key:"setCurrentNode",value:function setCurrentNode(currentNode){var prevCurrentNode=this.currentNode;prevCurrentNode&&(prevCurrentNode.isCurrent=!1),this.currentNode=currentNode,this.currentNode.isCurrent=!0}},{key:"setUserCurrentNode",value:function setUserCurrentNode(node){var key=node[this.key],currNode=this.nodesMap[key];this.setCurrentNode(currNode)}},{key:"setCurrentNodeKey",value:function setCurrentNodeKey(key){if(null==key)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var node=this.getNode(key);node&&this.setCurrentNode(node)}}]),TreeStore}(),dist=__webpack_require__("89c1"),dist_default=__webpack_require__.n(dist),collapse_transition=__webpack_require__("f308"),packages_checkbox=__webpack_require__("9c1a"),emitter=__webpack_require__("f6f4"),mixin_node={methods:{creator:function creator(parent,nodeTag){var node=this[nodeTag];parent.isTree?this.tree=parent:this.tree=parent.tree;var tree=this.tree;tree||console.warn("Can not find node's tree.");var childrenKey=(tree.props||{}).children||"children";this.$watch("".concat(nodeTag,".data.").concat(childrenKey),function(){node.updateChildren()}),node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",function(currentNode){node!==currentNode&&node.collapse()})},getNodeKey:function getNodeKey(node){return util_getNodeKey(this.tree.nodeKey,node.data)},handleSelectChange:function handleSelectChange(checked,indeterminate){var node=this.node||this.source;this.oldChecked!==checked&&this.oldIndeterminate!==indeterminate&&this.tree.$emit("check-change",node.data,checked,indeterminate),this.oldChecked=checked,this.indeterminate=indeterminate},handleClick:function handleClick(){var node=this.node||this.source,store=this.tree.store;store.setCurrentNode(node),this.tree.$emit("current-change",store.currentNode?store.currentNode.data:null,store.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!node.disabled&&this.handleCheckChange(null,{target:{checked:!node.checked}}),this.tree.$emit("node-click",node.data,node,this)},handleContextMenu:function handleContextMenu(event){var node=this.node||this.source;this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(event.stopPropagation(),event.preventDefault()),this.tree.$emit("node-contextmenu",event,node.data,node,this)},handleExpandIconClick:function handleExpandIconClick(){var node=this.node||this.source;node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",node.data,node,this),node.collapse()):(node.expand(),this.$emit("node-expand",node.data,node,this)))},handleCheckChange:function handleCheckChange(_,ev){var _this=this,node=this.node||this.source;node.setChecked(ev.target.checked,!this.tree.checkStrictly),this.$nextTick(function(){var store=_this.tree.store;_this.tree.$emit("check",node.data,{checkedNodes:store.getCheckedNodes(),checkedKeys:store.getCheckedKeys(),halfCheckedNodes:store.getHalfCheckedNodes(),halfCheckedKeys:store.getHalfCheckedKeys()})})},handleChildNodeExpand:function handleChildNodeExpand(nodeData,node,instance){this.broadcast("ElTreeNode","tree-node-expand",node),this.tree.$emit("node-expand",nodeData,node,instance)}}},tree_tree_nodevue_type_script_lang_js_={name:"ElTreeNode",componentName:"ElTreeNode",mixins:[emitter.a,mixin_node],props:{node:{default:function _default(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:collapse_transition.a,ElCheckbox:packages_checkbox.a,NodeContent:{props:{node:{required:!0}},render:function render(h){var parent=this.$parent,tree=parent.tree,node=this.node,data=node.data,store=node.store;return parent.renderContent?parent.renderContent.call(parent._renderProxy,h,{_self:tree.$vnode.context,node:node,data:data,store:store}):tree.$scopedSlots.default?tree.$scopedSlots.default({node:node,data:data}):h("span",{class:"el-tree-node__label"},[node.label])}}},data:function data(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function nodeIndeterminate(val){this.handleSelectChange(this.node.checked,val)},"node.checked":function nodeChecked(val){this.handleSelectChange(val,this.node.indeterminate)},"node.expanded":function nodeExpanded(val){var _this=this;this.$nextTick(function(){_this.expanded=val}),val&&(this.childNodeRendered=!0)}},methods:{handleDragStart:function handleDragStart(event){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",event,this)},handleDragOver:function handleDragOver(event){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",event,this),event.preventDefault())},handleDrop:function handleDrop(event){event.preventDefault()},handleDragEnd:function handleDragEnd(event){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",event,this)}},created:function created(){var parent=this.$parent;this.creator(parent,"node")}},componentNormalizer=__webpack_require__("2877"),tree_node=Object(componentNormalizer.a)(tree_tree_nodevue_type_script_lang_js_,function(){var this$1=this,_vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":_vm.expanded,"is-current":_vm.node.isCurrent,"is-hidden":!_vm.node.visible,"is-focusable":!_vm.node.disabled,"is-checked":!_vm.node.disabled&&_vm.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":_vm.expanded,"aria-disabled":_vm.node.disabled,"aria-checked":_vm.node.checked,draggable:_vm.tree.draggable},on:{click:function($event){return $event.stopPropagation(),_vm.handleClick($event)},contextmenu:function($event){return this$1.handleContextMenu($event)},dragstart:function($event){return $event.stopPropagation(),_vm.handleDragStart($event)},dragover:function($event){return $event.stopPropagation(),_vm.handleDragOver($event)},dragend:function($event){return $event.stopPropagation(),_vm.handleDragEnd($event)},drop:function($event){return $event.stopPropagation(),_vm.handleDrop($event)}}},[_c("div",{staticClass:"el-tree-node__content",style:{"padding-left":(_vm.node.level-1)*_vm.tree.indent+"px"}},[_c("span",{class:[{"is-leaf":_vm.node.isLeaf,expanded:!_vm.node.isLeaf&&_vm.expanded},"el-tree-node__expand-icon",_vm.tree.iconClass?_vm.tree.iconClass:"el-icon-caret-right"],on:{click:function($event){return $event.stopPropagation(),_vm.handleExpandIconClick($event)}}}),_vm.showCheckbox?_c("el-checkbox",{attrs:{indeterminate:_vm.node.indeterminate,disabled:!!_vm.node.disabled},on:{change:_vm.handleCheckChange},nativeOn:{click:function($event){$event.stopPropagation()}},model:{value:_vm.node.checked,callback:function($$v){_vm.$set(_vm.node,"checked",$$v)},expression:"node.checked"}}):_vm._e(),_vm.node.loading?_c("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):_vm._e(),_c("node-content",{attrs:{node:_vm.node}})],1),_c("el-collapse-transition",[!_vm.renderAfterExpand||_vm.childNodeRendered?_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":_vm.expanded}},_vm._l(_vm.node.childNodes,function(child){return _c("el-tree-node",{key:_vm.getNodeKey(child),attrs:{"render-content":_vm.renderContent,"render-after-expand":_vm.renderAfterExpand,"show-checkbox":_vm.showCheckbox,node:child},on:{"node-expand":_vm.handleChildNodeExpand}})}),1):_vm._e()])],1)},[],!1,null,null,null).exports,tree_tree_virtual_nodevue_type_script_lang_js_={name:"ElTreeVirtualNode",componentName:"ElTreeVirtualNode",mixins:[emitter.a,mixin_node],props:{source:{default:function _default(){return{}}},renderContent:Function,showCheckbox:{type:Boolean,default:!1}},components:{ElCheckbox:packages_checkbox.a,NodeContent:{props:{node:{required:!0}},render:function render(h){var parent=this.$parent,tree=parent.tree,node=this.node,data=node.data,store=node.store;return parent.renderContent?parent.renderContent.call(parent._renderProxy,h,{_self:tree.$vnode.context,node:node,data:data,store:store}):tree.$scopedSlots.default?tree.$scopedSlots.default({node:node,data:data}):h("span",{class:"el-tree-node__label"},[node.label])}}},data:function data(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"source.indeterminate":function sourceIndeterminate(val){this.handleSelectChange(this.source.checked,val)},"source.checked":function sourceChecked(val){this.handleSelectChange(val,this.source.indeterminate)},"source.expanded":function sourceExpanded(val){var _this=this;this.$nextTick(function(){_this.expanded=val}),val&&(this.childNodeRendered=!0)}},created:function created(){var parent=this.$parent.$parent.$parent;this.creator(parent,"source")}},tree_virtual_node=Object(componentNormalizer.a)(tree_tree_virtual_nodevue_type_script_lang_js_,function(){var this$1=this,_vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.source.visible,expression:"source.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":_vm.expanded,"is-current":_vm.source.isCurrent,"is-hidden":!_vm.source.visible,"is-focusable":!_vm.source.disabled,"is-checked":!_vm.source.disabled&&_vm.source.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":_vm.expanded,"aria-disabled":_vm.source.disabled,"aria-checked":_vm.source.checked},on:{click:function($event){return $event.stopPropagation(),_vm.handleClick($event)},contextmenu:function($event){return this$1.handleContextMenu($event)}}},[_c("div",{staticClass:"el-tree-node__content"},[_c("span",{style:{width:(_vm.source.level-1)*_vm.tree.indent+"px"},attrs:{"aria-hidden":"true"}}),_c("span",{class:[{"is-leaf":_vm.source.isLeaf,expanded:!_vm.source.isLeaf&&_vm.expanded},"el-tree-node__expand-icon",_vm.tree.iconClass?_vm.tree.iconClass:"el-icon-caret-right"],on:{click:function($event){return $event.stopPropagation(),_vm.handleExpandIconClick($event)}}}),_vm.showCheckbox?_c("el-checkbox",{attrs:{indeterminate:_vm.source.indeterminate,disabled:!!_vm.source.disabled},on:{change:_vm.handleCheckChange},nativeOn:{click:function($event){$event.stopPropagation()}},model:{value:_vm.source.checked,callback:function($$v){_vm.$set(_vm.source,"checked",$$v)},expression:"source.checked"}}):_vm._e(),_vm.source.loading?_c("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):_vm._e(),_c("node-content",{attrs:{node:_vm.source}})],1)])},[],!1,null,null,null).exports,locale=__webpack_require__("9206"),dom=__webpack_require__("526f"),tree_treevue_type_script_lang_js_={name:"ElTree",mixins:[emitter.a],components:{VirtualList:dist_default.a,ElTreeNode:tree_node},data:function data(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0},itemComponent:tree_virtual_node}},props:{data:{type:Array},emptyText:{type:String,default:function _default(){return Object(locale.a)("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function _default(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String,height:{type:Number,default:0},extraLine:{type:Number,default:8}},computed:{children:{set:function set(value){this.data=value},get:function get(){return this.data}},treeItemArray:function treeItemArray(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function isEmpty(){var childNodes=this.root.childNodes;return!childNodes||0===childNodes.length||childNodes.every(function(_ref){return!_ref.visible})},visibleList:function visibleList(){return this.flattenTree(this.root.childNodes).filter(function(m){return m.visible})}},watch:{defaultCheckedKeys:function defaultCheckedKeys(newVal){this.store.setDefaultCheckedKey(newVal)},defaultExpandedKeys:function defaultExpandedKeys(newVal){this.store.defaultExpandedKeys=newVal,this.store.setDefaultExpandedKeys(newVal)},data:function data(newVal){this.store.setData(newVal)},checkboxItems:function checkboxItems(val){Array.prototype.forEach.call(val,function(checkbox){checkbox.setAttribute("tabindex",-1)})},checkStrictly:function checkStrictly(newVal){this.store.checkStrictly=newVal}},methods:{flattenTree:function flattenTree(datas){var _this=this;return datas.reduce(function(conn,data){return conn.push(data),data.expanded&&data.childNodes.length&&conn.push.apply(conn,Object(toConsumableArray.a)(_this.flattenTree(data.childNodes))),conn},[])},filter:function filter(value){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(value)},getNodeKey:function getNodeKey(node){return util_getNodeKey(this.nodeKey,node.data)},getNodePath:function getNodePath(data){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var node=this.store.getNode(data);if(!node)return[];for(var path=[node.data],parent=node.parent;parent&&parent!==this.root;)path.push(parent.data),parent=parent.parent;return path.reverse()},getCheckedNodes:function getCheckedNodes(leafOnly,includeHalfChecked){return this.store.getCheckedNodes(leafOnly,includeHalfChecked)},getCheckedKeys:function getCheckedKeys(leafOnly){return this.store.getCheckedKeys(leafOnly)},getCurrentNode:function getCurrentNode(){var currentNode=this.store.getCurrentNode();return currentNode?currentNode.data:null},getCurrentKey:function getCurrentKey(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var currentNode=this.getCurrentNode();return currentNode?currentNode[this.nodeKey]:null},setCheckedNodes:function setCheckedNodes(nodes,leafOnly){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(nodes,leafOnly)},setCheckedKeys:function setCheckedKeys(keys,leafOnly){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(keys,leafOnly)},setChecked:function setChecked(data,checked,deep){this.store.setChecked(data,checked,deep)},getHalfCheckedNodes:function getHalfCheckedNodes(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function getHalfCheckedKeys(){return this.store.getHalfCheckedKeys()},setCurrentNode:function setCurrentNode(node){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(node)},setCurrentKey:function setCurrentKey(key){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(key)},getNode:function getNode(data){return this.store.getNode(data)},remove:function remove(data){this.store.remove(data)},append:function append(data,parentNode){this.store.append(data,parentNode)},insertBefore:function insertBefore(data,refNode){this.store.insertBefore(data,refNode)},insertAfter:function insertAfter(data,refNode){this.store.insertAfter(data,refNode)},handleNodeExpand:function handleNodeExpand(nodeData,node,instance){this.broadcast("ElTreeNode","tree-node-expand",node),this.$emit("node-expand",nodeData,node,instance)},updateKeyChildren:function updateKeyChildren(key,data){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(key,data)},initTabIndex:function initTabIndex(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var checkedItem=this.$el.querySelectorAll(".is-checked[role=treeitem]");checkedItem.length?checkedItem[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function handleKeydown(ev){var currentItem=ev.target;if(-1!==currentItem.className.indexOf("el-tree-node")){var keyCode=ev.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var nextIndex,currentIndex=this.treeItemArray.indexOf(currentItem);[38,40].indexOf(keyCode)>-1&&(ev.preventDefault(),nextIndex=38===keyCode?0!==currentIndex?currentIndex-1:0:currentIndex<this.treeItemArray.length-1?currentIndex+1:0,this.treeItemArray[nextIndex].focus()),[37,39].indexOf(keyCode)>-1&&(ev.preventDefault(),currentItem.click());var hasInput=currentItem.querySelector('[type="checkbox"]');[13,32].indexOf(keyCode)>-1&&hasInput&&(ev.preventDefault(),hasInput.click())}},resetVirtualList:function resetVirtualList(){this.$refs["virtual-list"]&&this.$refs["virtual-list"].reset()}},created:function created(){var _this2=this;this.isTree=!0,this.store=new tree_store_TreeStore({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var dragState=this.dragState;this.$on("tree-node-drag-start",function(event,treeNode){if("function"==typeof _this2.allowDrag&&!_this2.allowDrag(treeNode.node))return event.preventDefault(),!1;event.dataTransfer.effectAllowed="move";try{event.dataTransfer.setData("text/plain","")}catch(e){}dragState.draggingNode=treeNode,_this2.$emit("node-drag-start",treeNode.node,event)}),this.$on("tree-node-drag-over",function(event,treeNode){var dropNode=function findNearestComponent(element,componentName){for(var target=element;target&&"BODY"!==target.tagName;){if(target.__vue__&&target.__vue__.$options.name===componentName)return target.__vue__;target=target.parentNode}return null}(event.target,"ElTreeNode"),oldDropNode=dragState.dropNode;oldDropNode&&oldDropNode!==dropNode&&Object(dom.b)(oldDropNode.$el,"is-drop-inner");var draggingNode=dragState.draggingNode;if(draggingNode&&dropNode){var dropPrev=!0,dropInner=!0,dropNext=!0,userAllowDropInner=!0;"function"==typeof _this2.allowDrop&&(dropPrev=_this2.allowDrop(draggingNode.node,dropNode.node,"prev"),userAllowDropInner=dropInner=_this2.allowDrop(draggingNode.node,dropNode.node,"inner"),dropNext=_this2.allowDrop(draggingNode.node,dropNode.node,"next")),event.dataTransfer.dropEffect=dropInner?"move":"none",(dropPrev||dropInner||dropNext)&&oldDropNode!==dropNode&&(oldDropNode&&_this2.$emit("node-drag-leave",draggingNode.node,oldDropNode.node,event),_this2.$emit("node-drag-enter",draggingNode.node,dropNode.node,event)),(dropPrev||dropInner||dropNext)&&(dragState.dropNode=dropNode),dropNode.node.nextSibling===draggingNode.node&&(dropNext=!1),dropNode.node.previousSibling===draggingNode.node&&(dropPrev=!1),dropNode.node.contains(draggingNode.node,!1)&&(dropInner=!1),(draggingNode.node===dropNode.node||draggingNode.node.contains(dropNode.node))&&(dropPrev=!1,dropInner=!1,dropNext=!1);var dropType,targetPosition=dropNode.$el.getBoundingClientRect(),treePosition=_this2.$el.getBoundingClientRect(),prevPercent=dropPrev?dropInner?.25:dropNext?.45:1:-1,nextPercent=dropNext?dropInner?.75:dropPrev?.55:0:1,indicatorTop=-9999,distance=event.clientY-targetPosition.top;dropType=distance<targetPosition.height*prevPercent?"before":distance>targetPosition.height*nextPercent?"after":dropInner?"inner":"none";var iconPosition=dropNode.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),dropIndicator=_this2.$refs.dropIndicator;"before"===dropType?indicatorTop=iconPosition.top-treePosition.top:"after"===dropType&&(indicatorTop=iconPosition.bottom-treePosition.top),dropIndicator.style.top=indicatorTop+"px",dropIndicator.style.left=iconPosition.right-treePosition.left+"px","inner"===dropType?Object(dom.a)(dropNode.$el,"is-drop-inner"):Object(dom.b)(dropNode.$el,"is-drop-inner"),dragState.showDropIndicator="before"===dropType||"after"===dropType,dragState.allowDrop=dragState.showDropIndicator||userAllowDropInner,dragState.dropType=dropType,_this2.$emit("node-drag-over",draggingNode.node,dropNode.node,event)}}),this.$on("tree-node-drag-end",function(event){var draggingNode=dragState.draggingNode,dropType=dragState.dropType,dropNode=dragState.dropNode;if(event.preventDefault(),event.dataTransfer.dropEffect="move",draggingNode&&dropNode){var draggingNodeCopy={data:draggingNode.node.data};"none"!==dropType&&draggingNode.node.remove(),"before"===dropType?dropNode.node.parent.insertBefore(draggingNodeCopy,dropNode.node):"after"===dropType?dropNode.node.parent.insertAfter(draggingNodeCopy,dropNode.node):"inner"===dropType&&dropNode.node.insertChild(draggingNodeCopy),"none"!==dropType&&_this2.store.registerNode(draggingNodeCopy),Object(dom.b)(dropNode.$el,"is-drop-inner"),_this2.$emit("node-drag-end",draggingNode.node,dropNode.node,dropType,event),"none"!==dropType&&_this2.$emit("node-drop",draggingNode.node,dropNode.node,dropType,event)}draggingNode&&!dropNode&&_this2.$emit("node-drag-end",draggingNode.node,null,dropType,event),dragState.showDropIndicator=!1,dragState.draggingNode=null,dragState.dropNode=null,dragState.allowDrop=!0})},mounted:function mounted(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function updated(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},tree=Object(componentNormalizer.a)(tree_treevue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":_vm.highlightCurrent,"is-dragging":!!_vm.dragState.draggingNode,"is-drop-not-allow":!_vm.dragState.allowDrop,"is-drop-inner":"inner"===_vm.dragState.dropType},attrs:{role:"tree"}},[_vm.height?_c("virtual-list",{ref:"virtual-list",style:{height:_vm.height+"px","overflow-y":"auto"},attrs:{"data-key":_vm.getNodeKey,"data-sources":_vm.visibleList,"data-component":_vm.itemComponent,"extra-props":{renderAfterExpand:_vm.renderAfterExpand,showCheckbox:_vm.showCheckbox,renderContent:_vm.renderContent,onNodeExpand:_vm.handleNodeExpand}}}):_vm._l(_vm.root.childNodes,function(child){return _c("el-tree-node",{key:_vm.getNodeKey(child),attrs:{node:child,props:_vm.props,"render-after-expand":_vm.renderAfterExpand,"show-checkbox":_vm.showCheckbox,"render-content":_vm.renderContent},on:{"node-expand":_vm.handleNodeExpand}})}),_vm.isEmpty?_c("div",{staticClass:"el-tree__empty-block"},[_c("span",{staticClass:"el-tree__empty-text"},[_vm._v(_vm._s(_vm.emptyText))])]):_vm._e(),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)},[],!1,null,null,null).exports,src_ElTreeSelectvue_type_script_lang_js_={name:"el-tree-select",props:{value:{type:[String,Array,Number],default:function _default(){return""}},styles:{type:Object,default:function _default(){return{}}},selectClass:{type:String,default:function _default(){return""}},popoverClass:{type:String,default:function _default(){return""}},disabled:{type:Boolean,default:function _default(){return!1}},placement:{type:String,default:function _default(){return"bottom"}},transition:{type:String,default:function _default(){return"el-zoom-in-top"}},treeRenderFun:Function,filterNodeMethod:Function,selectParams:{type:Object,default:function _default(){return{clearable:!0,disabled:!1,placeholder:"请选择"}}},treeParams:{type:Object,default:function _default(){return{height:void 0,clickParent:!1,filterable:!1,leafOnly:!1,includeHalfChecked:!1,data:[],props:{children:"children",label:"name",code:"code",value:"flowId",disabled:"disabled"}}}}},data:function data(){return{guid:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}),propsValue:"flowId",propsLabel:"name",propsCode:null,propsDisabled:"disabled",propsChildren:"children",leafOnly:!1,includeHalfChecked:!1,data:[],keywords:"",labels:"",ids:[],visible:!1,width:150}},watch:{ids:function ids(val){var _this=this;void 0!==val&&this.$nextTick(function(){_this._setSelectNodeFun(val)})},value:function value(val){this.ids!==val&&(this._setMultipleFun(),this.selectParams.multiple?this.ids=Object(toConsumableArray.a)(val):this.ids=""===val?[]:[val])}},computed:{popperClass:function popperClass(){var _c="el-tree-select-popper "+this.popoverClass;return this.disabled?_c+" disabled ":_c}},created:function created(){var _this$treeParams=this.treeParams,props=_this$treeParams.props,data=_this$treeParams.data,leafOnly=_this$treeParams.leafOnly,includeHalfChecked=_this$treeParams.includeHalfChecked;this._setMultipleFun(),this.propsValue=props.value,this.propsLabel=props.label,this.propsCode=props.code||null,this.propsDisabled=props.disabled,this.propsChildren=props.children,this.leafOnly=leafOnly,this.includeHalfChecked=includeHalfChecked,this.data=data.length>0?Object(toConsumableArray.a)(data):[],this.selectParams.multiple?(this.labels=[],this.ids=this.value):(this.labels="",this.ids=this.value instanceof Array?this.value:[this.value])},mounted:function mounted(){var _this2=this;this._updateH(),this.$nextTick(function(){on(document,"mouseup",_this2._popoverHideFun)})},methods:{_setMultipleFun:function _setMultipleFun(){var multiple=!1;this.value instanceof Array&&(multiple=!0),this.$set(this.selectParams,"multiple",multiple)},_searchFun:function _searchFun(){this.$emit("searchFun",this.keywords)},_setSelectNodeFun:function _setSelectNodeFun(ids){var _this3=this,el=this.$refs.tree;if(!el)throw new Error("找不到tree dom");var multiple=this.selectParams.multiple;if(0===ids.length||0===this.data.length)return this.labels=multiple?[]:"",void(multiple?el.setCheckedKeys([]):el.setCurrentKey(null));if(multiple){el.getCheckedNodes(this.leafOnly,this.includeHalfChecked).forEach(function(item){el.setChecked(item,!1)}),ids.forEach(function(id){el.setChecked(id,!0)});var nodes=el.getCheckedNodes(this.leafOnly,this.includeHalfChecked);this.propsCode?this.labels=nodes.map(function(item){return item[_this3.propsCode]?item[_this3.propsLabel]+"("+item[_this3.propsCode]+")":item[_this3.propsLabel]})||[]:this.labels=nodes.map(function(item){return item[_this3.propsLabel]})||[]}else{el.setCurrentKey(ids[0]);var node=el.getCurrentNode();node?this.propsCode?this.labels=node[this.propsCode]?node[this.propsLabel]+"("+node[this.propsCode]+")":node[this.propsLabel]:this.labels=node[this.propsLabel]:this.labels=""}this._updatePopoverLocationFun()},_updatePopoverLocationFun:function _updatePopoverLocationFun(){var _this4=this;setTimeout(function(){_this4.$refs.popover.updatePopper()},50)},_getEventPath:function _getEventPath(evt){var path=evt.composedPath&&evt.composedPath()||evt.path,target=evt.target;if(null!=path)return path.indexOf(window)<0?path.concat(window):path;if(target===window)return[window];return[target].concat(function getParents(node,memo){memo=memo||[];var parentNode=node.parentNode;return parentNode?getParents(parentNode,memo.concat(parentNode)):memo}(target),window)},_filterFun:function _filterFun(value,data,node){return!value||-1!==data[this.propsLabel].indexOf(value)},_treeNodeClickFun:function _treeNodeClickFun(data,node,vm){var _this5=this,multiple=this.selectParams.multiple,clickParent=this.treeParams.clickParent,checkStrictly=this.treeParams["check-strictly"],propsValue=this.propsValue,propsChildren=this.propsChildren,propsDisabled=this.propsDisabled,children=data[propsChildren]||[];if(!data[propsDisabled]){if(node.checked){var value=data[propsValue];this.ids=this.ids.filter(function(id){return id!==value}),!checkStrictly&&children.length&&children.forEach(function(item){_this5.ids=_this5.ids.filter(function(id){return id!==item[propsValue]})})}else if(multiple)clickParent||0!==children.length?clickParent&&(this.ids.push(data[propsValue]),!checkStrictly&&children.length&&children.forEach(function(item){_this5.ids.push(item[propsValue])})):this.ids.push(data[propsValue]);else if(clickParent)this.ids=[data[propsValue]],this.visible=!1;else{if(0!==children.length)return!1;this.ids=[data[propsValue]],this.visible=!1}this._emitFun(),this.$emit("node-click",data,node,vm)}},_treeCheckFun:function _treeCheckFun(data,node,vm){var _this6=this;this.ids=[];var propsValue=this.propsValue;node.checkedNodes.forEach(function(item){_this6.ids.push(item[propsValue])}),this.$emit("check",data,node,vm),this._emitFun()},_selectRemoveTag:function _selectRemoveTag(tag){var _this7=this,data=this.data,propsValue=this.propsValue,propsLabel=this.propsLabel;each(data,function(item){if(item[propsLabel]===tag){var value=item[propsValue];_this7.ids=_this7.ids.filter(function(id){return id!==value})}},this.propsChildren),this.$refs.tree.setCheckedKeys(this.ids),this.$emit("removeTag",this.ids,tag),this._emitFun()},_selectClearFun:function _selectClearFun(){this.ids=[];var multiple=this.selectParams.multiple;this.$emit("input",multiple?[]:""),this.$emit("select-clear"),this._updatePopoverLocationFun()},_emitFun:function _emitFun(){var multiple=this.selectParams.multiple;this.$emit("input",multiple?this.ids:this.ids.length>0?this.ids[0]:""),this._updatePopoverLocationFun()},_updateH:function _updateH(){var _this8=this;this.$nextTick(function(){_this8.width=_this8.$refs.select.$el.getBoundingClientRect().width})},_popoverShowFun:function _popoverShowFun(val){var _this9=this;this._updateH(),setTimeout(function(){_this9.$refs.tree.resetVirtualList()},0)},_popoverHideFun:function _popoverHideFun(e){this._getEventPath(e).some(function(list){return list.className&&"string"==typeof list.className&&-1!==list.className.indexOf("el-tree-select")})||(this.visible=!1)},treeDataUpdateFun:function treeDataUpdateFun(data){var _this10=this;this.data=data,data.length>0&&setTimeout(function(){_this10._setSelectNodeFun(_this10.ids)},300)},filterFun:function filterFun(val){this.$refs.tree.filter(val)}},components:{ElTree:tree},beforeDestroy:function beforeDestroy(){off(document,"mouseup",this._popoverHideFun)}},ElTreeSelect_component=(__webpack_require__("3414"),Object(componentNormalizer.a)(src_ElTreeSelectvue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"el-tree-select",class:_vm.selectClass},[_c("el-select",_vm._b({directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],ref:"select",staticClass:"el-tree-select-input",style:_vm.styles,attrs:{id:"el-tree-select-"+_vm.guid,disabled:_vm.disabled,"popper-class":"select-option","popper-append-to-body":!1,filterable:!1,multiple:_vm.selectParams.multiple,title:_vm.labels},on:{"remove-tag":_vm._selectRemoveTag,clear:_vm._selectClearFun,focus:_vm._popoverShowFun},model:{value:_vm.labels,callback:function($$v){_vm.labels=$$v},expression:"labels"}},"el-select",_vm.selectParams,!1)),_c("el-popover",{ref:"popover",attrs:{placement:_vm.placement,transition:_vm.transition,"popper-class":_vm.popperClass,width:_vm.width,trigger:"click"},model:{value:_vm.visible,callback:function($$v){_vm.visible=$$v},expression:"visible"}},[_vm.treeParams.filterable?_c("el-input",{staticClass:"input-with-select mb10",attrs:{size:"mini"},on:{change:_vm._searchFun},model:{value:_vm.keywords,callback:function($$v){_vm.keywords=$$v},expression:"keywords"}},[_c("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1):_vm._e(),_c("el-tree",_vm._b({directives:[{name:"show",rawName:"v-show",value:_vm.data.length>0,expression:"data.length > 0"}],ref:"tree",attrs:{data:_vm.data,"node-key":_vm.propsValue,draggable:!1,"current-node-key":_vm.ids.length>0?_vm.ids[0]:"","show-checkbox":_vm.selectParams.multiple,"filter-node-method":_vm.filterNodeMethod?_vm.filterNodeMethod:_vm._filterFun,"render-content":_vm.treeRenderFun},on:{"node-click":_vm._treeNodeClickFun,check:_vm._treeCheckFun}},"el-tree",_vm.treeParams,!1)),0===_vm.data.length?_c("div",{staticClass:"no-data"},[_vm._v("暂无数据")]):_vm._e()],1)],1)},[],!1,null,null,null));__webpack_exports__.a=ElTreeSelect_component.exports},"71bb":function(module,exports,__webpack_require__){var content=__webpack_require__("5fff");"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__("499e").default)("1c8c2436",content,!0,{sourceMap:!1,shadowMode:!1})},bce1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("ac6a"),__webpack_require__("06db");var _storybook_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7d14"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4357"),vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a026"),element_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5c96"),element_ui__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(element_ui__WEBPACK_IMPORTED_MODULE_5__),_components_src_ElTreeSelect_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("64a4");__webpack_require__("0fae");vue__WEBPACK_IMPORTED_MODULE_4__.default.use(element_ui__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"small"}),Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("ref调整数据",module).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.withKnobs).add("通过ref传参数",function(){return{components:{ElTreeSelect:_components_src_ElTreeSelect_vue__WEBPACK_IMPORTED_MODULE_6__.a},template:'\n      <el-row>\n          <el-col :span="6">\n            <ElTreeSelect v-model="values" :styles="styles" :selectParams="selectParams" :treeParams="treeParams" ref="treeSelect" @searchFun="_searchFun"></ElTreeSelect>\n          </el-col>\n          <el-col :span="6">\n            <el-button type="primary" @click="_changeDataFun">通过ref修改下拉树数据</el-button>\n          </el-col>\n          <el-col :span="6">\n          当前选中数据ID：{{values}}\n          </el-col>\n      </el-row>\n      ',data:function data(){return{styles:{width:"300px"},values:"",selectParams:{clearable:!0,placeholder:"请输入内容"},treeParams:{clickParent:!1,filterable:!0,"check-strictly":!0,"default-expand-all":!0,"expand-on-click-node":!1,"render-content":this._renderFun,data:[{name:"节点",id:"11",child:[{name:"XXX子节点",id:"22"}]}],props:{children:"child",label:"name",disabled:"disabled",value:"id"}}}},methods:{_changeDataFun:function _changeDataFun(){this.values="1",this.$refs.treeSelect.treeDataUpdateFun([{name:"新增节点",id:"1",child:[{name:"新增XXX子节点",id:"2"}]}])},_searchFun:function _searchFun(val){this.$refs.treeSelect.filterFun(val)}}}})}.call(this,__webpack_require__("8ca4")(module))},f330:function(module,exports,__webpack_require__){var map={"./index.stories.js":"f648","./ref.stories.js":"bce1"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="f330"},f648:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("c5f6");var _Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bd86"),_storybook_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7d14"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4357"),vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a026"),element_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5c96"),element_ui__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(element_ui__WEBPACK_IMPORTED_MODULE_5__),_components_src_ElTreeSelect_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("64a4");__webpack_require__("0fae");vue__WEBPACK_IMPORTED_MODULE_4__.default.use(element_ui__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"small"});for(var data=[],_children$label$disab={children:"child",label:"name",disabled:"disabled",value:"testId"},label=_children$label$disab.label,children=_children$label$disab.children,parentId=_children$label$disab.parentId,value=_children$label$disab.value,i=0;i<1e3;i++){for(var rootNode={name:"节点：".concat(i),parentId:i,testId:i,child:[]},a=0;a<5;a++){for(var _subNode,subId="".concat(rootNode[value],"_").concat(a),subNode=(_subNode={},Object(_Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_subNode,label,"子节点：".concat(subId)),Object(_Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_subNode,parentId,rootNode[value]),Object(_Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_subNode,value,subId),Object(_Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_subNode,children,[]),_subNode),b=0;b<5;b++){var _endNode,endId="".concat(subId,"_").concat(b),endNode=(_endNode={},Object(_Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_endNode,label,"末级节点：".concat(endId)),Object(_Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_endNode,parentId,subNode[value]),Object(_Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_endNode,value,endId),Object(_Users_macbook_Desktop_program_el_tree_select_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_endNode,children,[]),_endNode);subNode[children].push(endNode)}rootNode[children].push(subNode)}data.push(rootNode)}Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("渲染",module).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.withKnobs).add("通过props传参数",function(){return{components:{ElTreeSelect:_components_src_ElTreeSelect_vue__WEBPACK_IMPORTED_MODULE_6__.a},template:'\n        <el-row>\n            <el-col :span="12">\n            <ElTreeSelect v-model="values" :styles="styles" :selectParams="selectParams" :treeParams="treeParams" v-bind.sync="options" ref="treeSelect"></ElTreeSelect>\n            </el-col>\n            <el-col :span="12">\n            当前选中数据ID：{{values}}\n            </el-col>\n        </el-row>\n    ',props:{options:{type:Object,default:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.object)("v-bind配置参数",{popoverClass:"testClass"})},styles:{type:Object,default:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.object)("调整样式：",{width:"500px"})},values:{type:[String,Array,Number],default:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.array)("v-model配置：",["0_0_0","0_0_1"])},selectParams:{type:Object,default:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.object)("input参数：",{clearable:!0,placeholder:"请输入内容"})},treeParams:{type:Object,default:function _default(){return{"check-strictly":!0,"default-expand-all":!0,"expand-on-click-node":!1,height:300,clickParent:!1,filterable:!0,data:data,props:{children:"child",label:"name",disabled:"disabled",value:"testId"}}}}}}})}.call(this,__webpack_require__("8ca4")(module))}},[[0,1,2]]]);
//# sourceMappingURL=main.53a0113227676c286226.bundle.js.map